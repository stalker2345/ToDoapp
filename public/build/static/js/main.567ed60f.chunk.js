(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{31:function(e,t,a){e.exports=a.p+"static/media/remove.b36a3633.svg"},32:function(e,t,a){e.exports=a.p+"static/media/close.1175686f.svg"},33:function(e,t,a){e.exports=a.p+"static/media/add.78cc8215.svg"},34:function(e,t,a){e.exports=a.p+"static/media/edit.413a1061.svg"},36:function(e,t,a){e.exports=a(68)},41:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(30),i=a.n(o),l=a(19),s=a(2),r=a(16),m=(a(41),a(13)),u=a.n(m),d=a(3),p=a.n(d),f=a(12);a(59);function k(e){var t=e.color,a=e.onClick,n=e.className;return c.a.createElement("i",{onClick:a,className:u()("badge",Object(f.a)({},"badge--".concat(t),t),n)})}var v=a(31),h=a.n(v),C=function(e){var t=e.items,a=e.isRemovable,n=e.onClick,o=e.onRemove,i=e.onClickItem,l=e.activeItem,s=e.active;return c.a.createElement("ul",{onClick:n,className:"list"},t.map((function(e,t){return c.a.createElement("li",{key:t,className:u()(e.className,{active:s||l&&l.id===e.id}),onClick:i&&function(){return i(e)}},c.a.createElement("i",null,e.icon||c.a.createElement(k,{color:e.color.name||e.color})),c.a.createElement("span",null,e.name,c.a.createElement("span",{className:"tasks-length"},e.hasOwnProperty("tasks")&&e.id&&"  (".concat(e.tasks.length,")"))),a&&c.a.createElement("img",{onClick:function(){return t=e.id,window.confirm("\u0412\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c?"),void p.a.delete("http://localhost:3001/lists/"+t).then(o({id:t}));var t},className:"list__remove-icon",src:h.a,alt:"Remove icon"}))})))},E=(a(60),a(32)),b=a.n(E),w=function(e){var t=e.onAdd,a=e.colors,o=Object(n.useState)(!1),i=Object(s.a)(o,2),l=i[0],m=i[1],u=Object(n.useState)(3),d=Object(s.a)(u,2),f=d[0],v=d[1],h=Object(n.useState)(""),E=Object(s.a)(h,2),w=E[0],g=E[1],O=Object(n.useState)(!1),j=Object(s.a)(O,2),N=j[0],_=j[1];Object(n.useEffect)((function(){Array.isArray(a)&&v(a[0].id)}),[a]);var x=function(){m(!1),g(""),v(a[0].id)};return c.a.createElement("div",{className:"add-list"},c.a.createElement(C,{onClick:function(){return m(!l)},items:[{className:"list__add-button",icon:c.a.createElement("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M8 1V15",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c.a.createElement("path",{d:"M1 8H15",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a"}]}),l&&c.a.createElement("div",{className:"add-list__popup"},c.a.createElement("img",{onClick:x,src:b.a,alt:"close-btn",className:"add-list__popup-close-btn"}),c.a.createElement("input",{value:w,onChange:function(e){return g(e.target.value)},className:"field",type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430"}),c.a.createElement("div",{className:"add-list__popup_colors"},a.map((function(e){return c.a.createElement(k,{onClick:function(){return v(e.id)},key:e.id,color:e.name,className:f===e.id&&"active"})}))),c.a.createElement("button",{onClick:function(){return""!==w?(_(!0),void p.a.post("http://localhost:3001/lists",{name:w,colorId:f}).then((function(e){var n=e.data,c=a.filter((function(e){return e.id===f}))[0],o=Object(r.a)(Object(r.a)({},n),{},{color:c});t(o),x()})).finally(_(!1))):alert("\u0432\u0432\u0435\u0434\u0438\u0442\u0435")},className:"button"},N?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435...":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))},g=a(33),O=a.n(g);var j=function(e){var t=e.list,a=e.onTaskAdd,o=Object(n.useState)(!1),i=Object(s.a)(o,2),l=i[0],r=i[1],m=Object(n.useState)(""),u=Object(s.a)(m,2),d=u[0],f=u[1],k=Object(n.useState)(!1),v=Object(s.a)(k,2),h=v[0],C=v[1];return c.a.createElement("div",{className:"tasks__form"},!l&&c.a.createElement("div",{onClick:function(){return r(!l)},className:"tasks__form-new"},c.a.createElement("img",{src:O.a,alt:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),c.a.createElement("span",null,"\u041d\u043e\u0432\u0430\u044f \u0417\u0430\u0434\u0430\u0447\u0430")),l&&c.a.createElement("div",{className:"tasks__form-add-block"},c.a.createElement("input",{className:"field field--task",type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",value:d,onChange:function(e){return f(e.target.value)}}),c.a.createElement("button",{onClick:function(){var e={listId:t.id,text:d,completed:!0};p.a.post("http://localhost:3001/tasks",e).then((function(e){var n=e.data;a(t.id,n)})).catch((function(){return alert("\u043e\u0448\u0438\u0431\u043a\u0430")})).finally(C(!1))},className:"button"},h?"\u0417\u0430\u0434\u0430\u0447\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"),c.a.createElement("button",{onClick:function(){return r(!l)},className:"button button--grey"},"\u041e\u0442\u043c\u0435\u043d\u0430")))};function N(e){var t=e.list,a=e.id,o=e.text,i=e.completed,l=e.onRemove,r=e.onEdit,m=e.onComplite,u=Object(n.useState)(i),d=Object(s.a)(u,2),p=d[0],f=d[1];return c.a.createElement("div",{key:a,className:"tasks__items-row"},c.a.createElement("div",{onMouseDown:function(e){return e.preventDefault()},className:"checkbox"},c.a.createElement("input",{onChange:function(){f(!p),m(a,t.id,!p)},id:"task-".concat(a),type:"checkbox",checked:p}),c.a.createElement("label",{htmlFor:"task-".concat(a)},c.a.createElement("svg",{width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M9.29999 1.20001L3.79999 6.70001L1.29999 4.20001",stroke:"#000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})))),c.a.createElement("p",null,o),c.a.createElement("div",{className:"tasks__items-row-actions"},c.a.createElement("div",{onClick:function(){return r(a,t.id)}},c.a.createElement("svg",{width:"11",height:"11",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M0 12.0504V14.5834C0 14.8167 0.183308 15 0.41661 15H2.9496C3.05792 15 3.16624 14.9583 3.24123 14.875L12.34 5.78458L9.21542 2.66001L0.124983 11.7504C0.0416611 11.8338 0 11.9337 0 12.0504ZM14.7563 3.36825C14.8336 3.29116 14.8949 3.1996 14.9367 3.0988C14.9785 2.99801 15 2.88995 15 2.78083C15 2.6717 14.9785 2.56365 14.9367 2.46285C14.8949 2.36205 14.8336 2.27049 14.7563 2.19341L12.8066 0.24367C12.7295 0.166428 12.638 0.105146 12.5372 0.0633343C12.4364 0.021522 12.3283 0 12.2192 0C12.1101 0 12.002 0.021522 11.9012 0.0633343C11.8004 0.105146 11.7088 0.166428 11.6318 0.24367L10.107 1.76846L13.2315 4.89304L14.7563 3.36825V3.36825Z",fill:"black"}))),c.a.createElement("div",{onClick:function(){return l(a,t.id)}},c.a.createElement("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M6.87215 5.5L10.7129 1.65926C10.8952 1.47731 10.9977 1.23039 10.9979 0.972832C10.9982 0.715276 10.8961 0.468178 10.7141 0.285898C10.5321 0.103617 10.2852 0.00108525 10.0277 0.000857792C9.77011 0.000630336 9.52302 0.102726 9.34074 0.284685L5.5 4.12542L1.65926 0.284685C1.47698 0.102404 1.22976 0 0.971974 0C0.714191 0 0.466965 0.102404 0.284685 0.284685C0.102404 0.466965 0 0.714191 0 0.971974C0 1.22976 0.102404 1.47698 0.284685 1.65926L4.12542 5.5L0.284685 9.34074C0.102404 9.52302 0 9.77024 0 10.028C0 10.2858 0.102404 10.533 0.284685 10.7153C0.466965 10.8976 0.714191 11 0.971974 11C1.22976 11 1.47698 10.8976 1.65926 10.7153L5.5 6.87458L9.34074 10.7153C9.52302 10.8976 9.77024 11 10.028 11C10.2858 11 10.533 10.8976 10.7153 10.7153C10.8976 10.533 11 10.2858 11 10.028C11 9.77024 10.8976 9.52302 10.7153 9.34074L6.87215 5.5Z",fill:"black"})))))}var _=a(34),x=a.n(_),L=(a(61),function(e){var t=e.lists,a=e.onEditTitle,n=e.onAddTask,o=e.onRemove,i=e.onEditTask,l=e.onCompliteTask;return c.a.createElement("div",{className:"tasks"},c.a.createElement("h2",{style:{color:t.color.hex},className:"tasks__title"},t.name,c.a.createElement("img",{onClick:function(){var e=window.prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",t.name);e&&a(t.id,e),e&&p.a.patch("http://localhost:3001/lists/"+t.id,{name:e}).catch((function(){return alert("\u043e\u0448\u0438\u0431\u043a\u0430")}))},src:x.a,alt:"Edit icon"})),c.a.createElement("div",{className:"tasks__items"},t.hasOwnProperty("tasks")&&!t.tasks.length&&c.a.createElement("h2",null,"\u0417\u0430\u0434\u0430\u0447\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"),c.a.createElement("ul",null,c.a.createElement("li",null,t.hasOwnProperty("tasks")&&t.tasks.map((function(e,a){return c.a.createElement(N,Object.assign({list:t,key:a},e,{onRemove:o,onEdit:i,onComplite:l}))}))))),c.a.createElement(j,{list:t,onTaskAdd:n}))}),y=a(1);var H=function(){Object(n.useEffect)((function(){p.a.get("http://localhost:3001/lists?_expand=color&_embed=tasks").then((function(e){var t=e.data;v(t)})),p.a.get("http://localhost:3001/colors").then((function(e){var t=e.data;return u(t)}))}),[]);var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(null),r=Object(s.a)(i,2),m=r[0],u=r[1],d=Object(n.useState)(null),f=Object(s.a)(d,2),k=f[0],v=f[1],h=Object(y.e)(),E=Object(y.f)(),b=function(e,t){var a=k.map((function(a){return a.id===e&&(a.name=t),a}));v(a)},g=function(e,t){var a=k.map((function(a){return a.id===e&&(a.tasks=[].concat(Object(l.a)(a.tasks),[t])),a}));v(a)},O=function(e,t){if(window.confirm("\u0443\u0434\u0430\u043b\u0438\u0442\u044c?")){var a=k.map((function(a){return a.id===t&&(a.tasks=a.tasks.filter((function(t){return t.id!==e}))),a}));v(a),p.a.delete("http://localhost:3001/tasks/"+e).catch((function(){return alert("\u043e\u0448\u0438\u0431\u043a\u0430")}))}},j=function(e,t){var a=window.prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0440\u043e\u043a\u0443");if(a){var n=k.map((function(n){return n.id===t&&(n.tasks=n.tasks.map((function(t){return t.id===e&&(t.text=a),t}))),n}));v(n),p.a.patch("http://localhost:3001/tasks/"+e,{text:a}).catch((function(){return alert("\u043e\u0448\u0438\u0431\u043a\u0430")}))}},N=function(e,t,a){var n=k.map((function(n){return n.id===t&&(n.tasks=n.tasks.map((function(t){return t.id===e&&(t.completed=a),t}))),n}));v(n),p.a.patch("http://localhost:3001/tasks/"+e,{completed:a}).catch((function(){alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443")}))};return Object(n.useEffect)((function(){var e=E.pathname.split("lists/")[1],t=k&&k.find((function(t){return t.id===Number(e)}));t&&(t.hasOwnProperty("tasks")||(t.tasks=[])),o(t)}),[k,E]),c.a.createElement("div",{className:"todo"},c.a.createElement("div",{className:"todo__sidebar"},c.a.createElement(C,{onClickItem:function(){h.push("/")},active:!a,items:[{icon:c.a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M12.96 8.10001H7.74001C7.24321 8.10001 7.20001 8.50231 7.20001 9.00001C7.20001 9.49771 7.24321 9.90001 7.74001 9.90001H12.96C13.4568 9.90001 13.5 9.49771 13.5 9.00001C13.5 8.50231 13.4568 8.10001 12.96 8.10001V8.10001ZM14.76 12.6H7.74001C7.24321 12.6 7.20001 13.0023 7.20001 13.5C7.20001 13.9977 7.24321 14.4 7.74001 14.4H14.76C15.2568 14.4 15.3 13.9977 15.3 13.5C15.3 13.0023 15.2568 12.6 14.76 12.6ZM7.74001 5.40001H14.76C15.2568 5.40001 15.3 4.99771 15.3 4.50001C15.3 4.00231 15.2568 3.60001 14.76 3.60001H7.74001C7.24321 3.60001 7.20001 4.00231 7.20001 4.50001C7.20001 4.99771 7.24321 5.40001 7.74001 5.40001ZM4.86001 8.10001H3.24001C2.74321 8.10001 2.70001 8.50231 2.70001 9.00001C2.70001 9.49771 2.74321 9.90001 3.24001 9.90001H4.86001C5.35681 9.90001 5.40001 9.49771 5.40001 9.00001C5.40001 8.50231 5.35681 8.10001 4.86001 8.10001ZM4.86001 12.6H3.24001C2.74321 12.6 2.70001 13.0023 2.70001 13.5C2.70001 13.9977 2.74321 14.4 3.24001 14.4H4.86001C5.35681 14.4 5.40001 13.9977 5.40001 13.5C5.40001 13.0023 5.35681 12.6 4.86001 12.6ZM4.86001 3.60001H3.24001C2.74321 3.60001 2.70001 4.00231 2.70001 4.50001C2.70001 4.99771 2.74321 5.40001 3.24001 5.40001H4.86001C5.35681 5.40001 5.40001 4.99771 5.40001 4.50001C5.40001 4.00231 5.35681 3.60001 4.86001 3.60001Z",fill:"black"})),name:"\u0412\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"}]}),k&&c.a.createElement(C,{items:k,onRemove:function(e){var t=k.filter((function(t){return t.id!==e.id}));v(t)},isRemovable:!0,onClickItem:function(e){h.push("/lists/".concat(e.id))},activeItem:a}),k&&c.a.createElement(w,{onAdd:function(e){var t=[].concat(Object(l.a)(k),[e]);v(t),h.push("/lists/".concat(e.id)),h.goForward()},colors:m,lists:k})),c.a.createElement("div",{className:"todo__tasks"},c.a.createElement(y.a,{exact:!0,path:"/"},k&&k.map((function(e){return c.a.createElement(L,{key:e.id,lists:e,onEditTitle:b,onAddTask:g,onRemove:O,onEditTask:j,onCompliteTask:N})}))),c.a.createElement(y.a,{exact:!0,path:"/lists/:id"},a&&c.a.createElement(L,{lists:a,onEditTitle:b,onAddTask:g,onRemove:O,onEditTask:j,onCompliteTask:N}))))},T=(a(67),a(15));i.a.render(c.a.createElement(T.a,null,c.a.createElement(H,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.567ed60f.chunk.js.map